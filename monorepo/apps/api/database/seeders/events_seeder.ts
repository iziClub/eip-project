import Event from '#models/event'
import Club from '#models/club'
import { BaseSeeder } from '@adonisjs/lucid/seeders'
import { DateTime } from 'luxon'

export default class EventsSeeder extends BaseSeeder {
  public async run() {
    const clubs = await Club.all()
    const clubByName = new Map(clubs.map((club) => [club.name, club.id]))

    const events = [
      {
        name: 'Tournoi Été Paris',
        clubName: 'Paris Athletic Club',
        description: 'Tournoi amical multi-sport en plein air.',
        type: 'tournoi',
        city: 'Paris',
        country: 'France',
        addressLine1: '12 Rue des Francs Bourgeois',
        postalCode: '75003',
        latitude: 48.859,
        longitude: 2.361,
        startAt: DateTime.fromISO('2024-07-12T14:00:00Z'),
        endAt: DateTime.fromISO('2024-07-12T16:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1508609349937-5ec4ae374ebf?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Match amical OL Amateur',
        clubName: 'Olympique Lyonnais Amateur',
        description: 'Match amical contre le club voisin.',
        type: 'match',
        city: 'Lyon',
        country: 'France',
        addressLine1: '350 Avenue Jean Jaurès',
        postalCode: '69007',
        latitude: 45.7407,
        longitude: 4.8257,
        startAt: DateTime.fromISO('2024-08-05T18:00:00Z'),
        endAt: DateTime.fromISO('2024-08-05T20:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Open Tennis Marseille',
        clubName: 'Marseille Tennis Club',
        description: 'Open régional sur terre battue.',
        type: 'tournoi',
        city: 'Marseille',
        country: 'France',
        addressLine1: '25 Boulevard Michelet',
        postalCode: '13008',
        latitude: 43.2706,
        longitude: 5.3957,
        startAt: DateTime.fromISO('2024-06-20T13:00:00Z'),
        endAt: DateTime.fromISO('2024-06-20T15:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1508609349937-5ec4ae374ebf?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Stage Natation Été',
        clubName: 'Toulouse Natation Club',
        description: 'Stage intensif pour nageurs confirmés.',
        type: 'stage',
        city: 'Toulouse',
        country: 'France',
        addressLine1: '15 Rue du Rempart Saint-Étienne',
        postalCode: '31000',
        latitude: 43.6009,
        longitude: 1.444,
        startAt: DateTime.fromISO('2024-07-01T09:00:00Z'),
        endAt: DateTime.fromISO('2024-07-01T11:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1502810190503-830027c1a7da?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Rugby Summer Camp',
        clubName: 'Lille Rugby Métropole',
        description: 'Camp rugby jeunes et seniors.',
        type: 'stage',
        city: 'Lille',
        country: 'France',
        addressLine1: '92 Rue du Faubourg de Roubaix',
        postalCode: '59800',
        latitude: 50.632,
        longitude: 3.07,
        startAt: DateTime.fromISO('2024-07-15T10:00:00Z'),
        endAt: DateTime.fromISO('2024-07-15T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1505842465776-3bfd188799b5?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Triathlon de Nice',
        clubName: 'Nice Triathlon Club',
        description: 'Triathlon sprint sur la Promenade des Anglais.',
        type: 'triathlon',
        city: 'Nice',
        country: 'France',
        addressLine1: '8 Avenue Jean Médecin',
        postalCode: '06000',
        latitude: 43.7013,
        longitude: 7.2663,
        startAt: DateTime.fromISO('2024-09-10T07:00:00Z'),
        endAt: DateTime.fromISO('2024-09-10T09:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1518098268026-4e89f1a2cd8e?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Volley Open Bordeaux',
        clubName: 'Bordeaux Volley Club',
        description: 'Tournoi indoor mixte.',
        type: 'tournoi',
        city: 'Bordeaux',
        country: 'France',
        addressLine1: '41 Rue Georges Bonnac',
        postalCode: '33000',
        latitude: 44.8412,
        longitude: -0.5806,
        startAt: DateTime.fromISO('2024-10-02T14:00:00Z'),
        endAt: DateTime.fromISO('2024-10-02T16:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Nuit de l’Escrime',
        clubName: 'Strasbourg Escrime Club',
        description: 'Rencontres nocturnes et découverte pour débutants.',
        type: 'decouverte',
        city: 'Strasbourg',
        country: 'France',
        addressLine1: '10 Boulevard de Lyon',
        postalCode: '67000',
        latitude: 48.5802,
        longitude: 7.748,
        startAt: DateTime.fromISO('2024-11-15T18:00:00Z'),
        endAt: DateTime.fromISO('2024-11-15T21:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Open Judo Bretagne',
        clubName: 'Rennes Judo Club',
        description: 'Compétition régionale junior.',
        type: 'competition',
        city: 'Rennes',
        country: 'France',
        addressLine1: '5 Rue de Brest',
        postalCode: '35000',
        latitude: 48.1147,
        longitude: -1.6794,
        startAt: DateTime.fromISO('2024-06-28T10:00:00Z'),
        endAt: DateTime.fromISO('2024-06-28T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1502810190503-830027c1a7da?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Metz Danse Festival',
        clubName: 'Metz Danse Club',
        description: 'Festival de danse moderne avec workshops.',
        type: 'festival',
        city: 'Metz',
        country: 'France',
        addressLine1: '8 Rue du Grand Cerf',
        postalCode: '57000',
        latitude: 49.1203,
        longitude: 6.1778,
        startAt: DateTime.fromISO('2024-09-01T15:00:00Z'),
        endAt: DateTime.fromISO('2024-09-01T17:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1471295253337-3ceaaedca402?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Karting Grand Prix Nancy',
        clubName: 'Nancy Karting Club',
        description: 'Course sprint et endurance sur circuit homologué.',
        type: 'course',
        city: 'Nancy',
        country: 'France',
        addressLine1: '55 Rue Saint-Jean',
        postalCode: '54000',
        latitude: 48.6921,
        longitude: 6.1844,
        startAt: DateTime.fromISO('2024-08-18T10:00:00Z'),
        endAt: DateTime.fromISO('2024-08-18T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1509112756314-34a0badb29d4?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Gala Gym Caen',
        clubName: 'Caen Gymnastique Club',
        description: 'Gala annuel avec démonstrations artistiques.',
        type: 'gala',
        city: 'Caen',
        country: 'France',
        addressLine1: '6 Rue de l’Église',
        postalCode: '14000',
        latitude: 49.1829,
        longitude: -0.3712,
        startAt: DateTime.fromISO('2024-12-02T18:00:00Z'),
        endAt: DateTime.fromISO('2024-12-02T20:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Open Escalade Val de Loire',
        clubName: 'Tours Escalade Club',
        description: 'Compétition régionale sur mur indoor.',
        type: 'competition',
        city: 'Tours',
        country: 'France',
        addressLine1: '14 Rue Nationale',
        postalCode: '37000',
        latitude: 47.3941,
        longitude: 0.6896,
        startAt: DateTime.fromISO('2024-10-12T10:00:00Z'),
        endAt: DateTime.fromISO('2024-10-12T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Meeting Athlé Reims',
        clubName: 'Reims Athlétisme Club',
        description: 'Meeting piste 100m / 400m / saut en longueur.',
        type: 'meeting',
        city: 'Reims',
        country: 'France',
        addressLine1: '30 Rue de Vesle',
        postalCode: '51100',
        latitude: 49.2583,
        longitude: 4.0317,
        startAt: DateTime.fromISO('2024-07-08T15:00:00Z'),
        endAt: DateTime.fromISO('2024-07-08T17:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1468645547353-56d325bb57ff?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Hockey Winter Cup',
        clubName: 'Angers Hockey Club',
        description: 'Tournoi glace catégories U17-U20.',
        type: 'tournoi',
        city: 'Angers',
        country: 'France',
        addressLine1: '2 Boulevard du Roi René',
        postalCode: '49100',
        latitude: 47.4736,
        longitude: -0.5514,
        startAt: DateTime.fromISO('2024-12-15T10:00:00Z'),
        endAt: DateTime.fromISO('2024-12-15T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1505761671935-60b3a7427bad?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Randonnée Cyclo Dijon',
        clubName: 'Dijon Cyclisme Club',
        description: 'Sortie longue distance dans l’arrière-pays.',
        type: 'sortie',
        city: 'Dijon',
        country: 'France',
        addressLine1: '22 Boulevard de Brosses',
        postalCode: '21000',
        latitude: 47.3216,
        longitude: 5.0415,
        startAt: DateTime.fromISO('2024-06-30T08:30:00Z'),
        endAt: DateTime.fromISO('2024-06-30T11:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1504274066651-8d31a536b11a?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Aviron Night Session',
        clubName: 'Clermont Aviron Club',
        description: 'Séance nocturne sur l’Allier avec bateaux 8+.',
        type: 'entrainement',
        city: 'Clermont-Ferrand',
        country: 'France',
        addressLine1: '2 Quai Louis Barthou',
        postalCode: '63000',
        latitude: 45.7772,
        longitude: 3.087,
        startAt: DateTime.fromISO('2024-08-22T19:30:00Z'),
        endAt: DateTime.fromISO('2024-08-22T21:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1508264165352-258859e62245?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Derby Baseball Amiens',
        clubName: 'Amiens Baseball Club',
        description: 'Match de championnat contre Rouen.',
        type: 'match',
        city: 'Amiens',
        country: 'France',
        addressLine1: '18 Rue Lamarck',
        postalCode: '80000',
        latitude: 49.8942,
        longitude: 2.2957,
        startAt: DateTime.fromISO('2024-07-21T15:00:00Z'),
        endAt: DateTime.fromISO('2024-07-21T17:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1518615977005-a16606bde3a6?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Coupe Basket Centre',
        clubName: 'Limoges Basket Association',
        description: 'Phase finale coupe régionale universitaire.',
        type: 'tournoi',
        city: 'Limoges',
        country: 'France',
        addressLine1: '7 Rue de la Boucherie',
        postalCode: '87000',
        latitude: 45.8336,
        longitude: 1.2611,
        startAt: DateTime.fromISO('2024-10-18T14:00:00Z'),
        endAt: DateTime.fromISO('2024-10-18T16:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1495562569060-2eec283d3391?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Rade de Brest Challenge',
        clubName: 'Brest Voile Club',
        description: 'Régate habitable sur deux jours.',
        type: 'regate',
        city: 'Brest',
        country: 'France',
        addressLine1: '1 Quai Malbert',
        postalCode: '29200',
        latitude: 48.3904,
        longitude: -4.4861,
        startAt: DateTime.fromISO('2024-09-14T09:00:00Z'),
        endAt: DateTime.fromISO('2024-09-14T12:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1505764706515-aa95265c5abc?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Avignon XIII Day',
        clubName: 'Avignon Rugby XIII',
        description: 'Plateau jeunes et seniors avec animations.',
        type: 'tournoi',
        city: 'Avignon',
        country: 'France',
        addressLine1: '11 Rue de la République',
        postalCode: '84000',
        latitude: 43.9483,
        longitude: 4.8055,
        startAt: DateTime.fromISO('2024-09-28T10:00:00Z'),
        endAt: DateTime.fromISO('2024-09-28T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1495567720989-cebdbdd97913?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Beach Volley Sunset',
        clubName: 'Perpignan Beach Volley',
        description: 'Tournoi 4x4 mixte sur la plage.',
        type: 'tournoi',
        city: 'Perpignan',
        country: 'France',
        addressLine1: '4 Boulevard des Pyrénées',
        postalCode: '66000',
        latitude: 42.6887,
        longitude: 2.8948,
        startAt: DateTime.fromISO('2024-08-11T17:00:00Z'),
        endAt: DateTime.fromISO('2024-08-11T19:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1505765680444-25eb0e3c66f3?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Ultimate Autumn Cup',
        clubName: 'Poitiers Ultimate Club',
        description: 'Tournoi open avec équipes nationales.',
        type: 'tournoi',
        city: 'Poitiers',
        country: 'France',
        addressLine1: '9 Rue des Cordeliers',
        postalCode: '86000',
        latitude: 46.5802,
        longitude: 0.3404,
        startAt: DateTime.fromISO('2024-10-26T10:00:00Z'),
        endAt: DateTime.fromISO('2024-10-26T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Sainté Trail Night',
        clubName: 'Saint-Étienne Triathlon',
        description: 'Trail nocturne dans le Pilat, distances 12/24km.',
        type: 'trail',
        city: 'Saint-Étienne',
        country: 'France',
        addressLine1: '6 Rue des Frères Chappe',
        postalCode: '42000',
        latitude: 45.4397,
        longitude: 4.3872,
        startAt: DateTime.fromISO('2024-11-09T18:00:00Z'),
        endAt: DateTime.fromISO('2024-11-09T21:00:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1504306661006-343c1b0b1d1c?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Coupe de Normandie Hand',
        clubName: 'Rouen Handball Club',
        description: 'Phase finale coupe régionale seniors.',
        type: 'tournoi',
        city: 'Rouen',
        country: 'France',
        addressLine1: '12 Quai Jean Moulin',
        postalCode: '76000',
        latitude: 49.4431,
        longitude: 1.0993,
        startAt: DateTime.fromISO('2024-06-22T10:00:00Z'),
        endAt: DateTime.fromISO('2024-06-22T12:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1200&q=80',
      },
      {
        name: 'Challenge Escrime Doubs',
        clubName: 'Besançon Escrime Académie',
        description: 'Tournoi fleuret et épée toutes catégories.',
        type: 'tournoi',
        city: 'Besançon',
        country: 'France',
        addressLine1: '3 Rue de la République',
        postalCode: '25000',
        latitude: 47.2378,
        longitude: 6.0241,
        startAt: DateTime.fromISO('2024-09-21T09:00:00Z'),
        endAt: DateTime.fromISO('2024-09-21T11:30:00Z'),
        imageUrl: 'https://images.unsplash.com/photo-1502810190503-830027c1a7da?auto=format&fit=crop&w=1200&q=80',
      },
    ]

    for (const event of events) {
      const clubId = clubByName.get(event.clubName)
      if (!clubId) {
        continue
      }

      await Event.updateOrCreate(
        { name: event.name },
        {
          clubId,
          name: event.name,
          description: event.description,
          type: event.type,
          city: event.city,
          country: event.country,
          addressLine1: event.addressLine1 ?? null,
          addressLine2: event.addressLine2 ?? null,
          postalCode: event.postalCode ?? null,
          latitude: event.latitude ?? null,
          longitude: event.longitude ?? null,
          startAt: event.startAt,
          endAt: event.endAt,
          imageUrl: event.imageUrl ?? null,
          isActive: true,
        }
      )
    }
  }
}
